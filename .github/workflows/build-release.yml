name: build

on:
  push:
    branches:
      - graphql-dotnet

  pull_request:
    branches:
      - graphql-dotnet

#  schedule:
#    # everyday at 5 AM PT (1 PM UTC)
#    - cron: "* 13 * * *"
  workflow_dispatch:

jobs:
  build-release:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout sources
        uses: actions/checkout@v3
      
      - name: Install stable toolchain
        uses: actions-rs/toolchain@v1
        with:
          profile: minimal
          toolchain: stable
          override: true

      -name: Run cargo check
       uses: action-rs/cargo@v1
       with:
         command: check

      -name: Build
       uses: actions-rs/cargo@v1
       command: build
